# Event service (Студент группы М8О-103Б-23 Жуховицкий А. Д.)
## Установка и описание

1. **Установка**:
	- Доступно несколько способов установки.
	1. **Через docker**
       - Установка осуществляется через **docker**, для установки пакета микросервиса введите и выполните команду:
		```
    	docker pull ghcr.io/unspokenteam/event_service:latest
 		```
       - Создайте .env файл окружения в папке микросервиса и выполните команду:
		```
		docker run -d -p 8081=8081 —env-file ./.env ghcr.io/unspokenteam/event_service:latest
 		```
	2. **Через poetry**
       - Также возможен локальный запуск при помощи утилиты poetry **без использования docker'a**. Для этого введите и выполните команды:
		```
		poetry install
		poetry run python main.py
		```

2. **Образец .env файла**
	```
	ENVIRONMENT="ENVIRONMENT"
	OPENROUTER_API_KEY="API_KEY"
	```

3. **О микросервисе**:
	- Сервис полностью осуществляет взаимодействие с событиями (**event**'ами) в календаре.
	- Также под контролем сервиса находится взаимодействие с данными о событиях.
	- Функционал:
		- **get_events_by_author_id** - **Получение списка событий по ID автора**.
			- Реализована **пагинация** (получение событий по номеру страницы любого размера)
				- Также возможно получение **полного** списка событий при условии **items_per_page = -1**.
			- Реализована возможность отбора событий по **временному интервалу**.

		- **get_event_by_event_id** - **Получение события по ID**

		- **get_events_by_events_ids** - **Получение событий по их ID**
			- Реализована **пагинация** (получение событий по номеру страницы любого размера)
				- Также возможно получение **полного** списка событий при условии **items_per_page = -1**.
			- Реализована возможность отбора событий по **временному интервалу**.

		- **get_all_events** - **Получение списка всех событий**
			- Реализована **пагинация** (получение событий по номеру страницы любого размера)
				- Также возможно получение **полного** списка событий при условии **items_per_page = -1**.
			- **Метод доступен только пользователям с типом ADMIN**
			- Реализована возможность отбора событий **по временному интервалу**.

		- **create_event** - **Создание события**
			- Реализован выбор следующих аттрибутов событий:
				1. **title** - Название события.
				2. **start** - Время и дата начала события (datetime объект).
				3. **end** - Время и дата конца события (datetime объект).
				4. **description** - Описание события.
				5. **color** - Цвет, которым событие будет отмечено событие в календаре.
				6. **repeating_delay** - Частота повторения события (Интервал).
					- Предусмотрен **специальный тип Interval**, который содержит такие аттрибуты как:
						- **years** - количество лет
						- **months** - количество месяцев
						- **weeks** - количество недель
						- **days** - количество дней
						- **hours** - количество часов
						- **minutes** - количество минут
						- **seconds** - количество секунд

		- **update_event** - **Обновление события**

		- **delete_event_by_id** - **Удаление события по его ID**

		- **delete_events_by_author_id** - **Удаление всех событий указанного по ID автора**

* **Для каждого метода предусмотрена обработка всевозможных ошибок.** **Подробнее ознакомиться с функционалом можно, прочитав docstring'и к методам.**
